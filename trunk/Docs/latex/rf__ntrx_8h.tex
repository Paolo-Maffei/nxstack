\hypertarget{rf__ntrx_8h}{
\section{/home/tech/release/K210-Devkit-CDROM-v1\_\-0\_\-3/subversion/nanostack/Platform/micro/include/rf\_\-ntrx.h File Reference}
\label{rf__ntrx_8h}\index{/home/tech/release/K210-Devkit-CDROM-v1_0_3/subversion/nanostack/Platform/micro/include/rf_ntrx.h@{/home/tech/release/K210-Devkit-CDROM-v1\_\-0\_\-3/subversion/nanostack/Platform/micro/include/rf\_\-ntrx.h}}
}
micro RF driver header for the Nanotron NA5TR1 radio 

\subsection*{Functions}
\begin{CompactItemize}
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_eec362bfdb2f849d39ad0d28e9222a72}{rf\_\-init} (void)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_dcdd963f53baa6a6c1e696347cee1ee7}{rf\_\-write} (\hyperlink{structbuffer__t}{buffer\_\-t} $\ast$buffer)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_fd6db435d4b4e09d32c69a9d4d8334a8}{rf\_\-rx\_\-enable} (void)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_d82d143983e9998c415860e3b5fe47a1}{rf\_\-rx\_\-disable} (void)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_d5647eee88c52cfdce3ca0050698d6a8}{rf\_\-mac\_\-get} (\hyperlink{structsockaddr__t}{sockaddr\_\-t} $\ast$address)
\item 
int8\_\-t \hyperlink{rf__ntrx_8h_9c0a6b3166fee2e94c93fffcc7311ed4}{rf\_\-power\_\-set} (uint8\_\-t new\_\-power)
\item 
int8\_\-t \hyperlink{rf__ntrx_8h_d9bcbebe4b4a24f33589758f40f6f01f}{rf\_\-channel\_\-set} (uint8\_\-t channel)
\item 
void \hyperlink{rf__ntrx_8h_91b1dad538e14708668fae49263edccb}{rf\_\-send\_\-ack} (uint8\_\-t pending)
\item 
int8\_\-t \hyperlink{rf__ntrx_8h_293d8239631f9bdb850229c63183db6c}{rf\_\-analyze\_\-rssi} (void)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_71b74455854c04aca3d86015cf95eb09}{rf\_\-cca\_\-check} (uint8\_\-t backoff\_\-count, uint8\_\-t slotted)
\item 
port\-CHAR \hyperlink{rf__ntrx_8h_a1f89bc90eab54291f913208b1ddef72}{rf\_\-write\_\-no\_\-cca} (\hyperlink{structbuffer__t}{buffer\_\-t} $\ast$buffer)
\item 
void \hyperlink{rf__ntrx_8h_262377dd5ce71a6ded4a7e4f86a2df1a}{rf\_\-set\_\-address} (\hyperlink{structsockaddr__t}{sockaddr\_\-t} $\ast$address)
\end{CompactItemize}


\subsection{Detailed Description}
micro RF driver header for the Nanotron NA5TR1 radio 

Micro: RF control function headers. 

\subsection{Function Documentation}
\hypertarget{rf__ntrx_8h_293d8239631f9bdb850229c63183db6c}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_analyze_rssi@{rf\_\-analyze\_\-rssi}}
\index{rf_analyze_rssi@{rf\_\-analyze\_\-rssi}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-analyze\_\-rssi]{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t rf\_\-analyze\_\-rssi (void)}}
\label{rf__ntrx_8h_293d8239631f9bdb850229c63183db6c}


Channel energy detect.

Coordinator use this function detect best channel for PAN-network. \begin{Desc}
\item[Returns:]RSSI-energy level d\-Bm. 

0 operation failed. \end{Desc}
\hypertarget{rf__ntrx_8h_71b74455854c04aca3d86015cf95eb09}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_cca_check@{rf\_\-cca\_\-check}}
\index{rf_cca_check@{rf\_\-cca\_\-check}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-cca\_\-check]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-cca\_\-check (uint8\_\-t {\em backoff\_\-count}, uint8\_\-t {\em slotted})}}
\label{rf__ntrx_8h_71b74455854c04aca3d86015cf95eb09}


Clear channel assesment check.

\begin{Desc}
\item[Returns:]pd\-TRUE CCA clear 

pd\-FALSE CCA reserved \end{Desc}
\hypertarget{rf__ntrx_8h_d9bcbebe4b4a24f33589758f40f6f01f}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_channel_set@{rf\_\-channel\_\-set}}
\index{rf_channel_set@{rf\_\-channel\_\-set}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-channel\_\-set]{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t rf\_\-channel\_\-set (uint8\_\-t {\em channel})}}
\label{rf__ntrx_8h_d9bcbebe4b4a24f33589758f40f6f01f}


Select RF channel.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em channel}]channel number to select\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]channel value or negative (invalid channel number) \end{Desc}
\hypertarget{rf__ntrx_8h_eec362bfdb2f849d39ad0d28e9222a72}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_init@{rf\_\-init}}
\index{rf_init@{rf\_\-init}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-init]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-init (void)}}
\label{rf__ntrx_8h_eec362bfdb2f849d39ad0d28e9222a72}


Initialize RF.

\begin{Desc}
\item[Returns:]pd\-TRUE 

pd\-FALSE bus not free or init failed \end{Desc}
\hypertarget{rf__ntrx_8h_d5647eee88c52cfdce3ca0050698d6a8}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_mac_get@{rf\_\-mac\_\-get}}
\index{rf_mac_get@{rf\_\-mac\_\-get}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-mac\_\-get]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-mac\_\-get (\hyperlink{structsockaddr__t}{sockaddr\_\-t} $\ast$ {\em address})}}
\label{rf__ntrx_8h_d5647eee88c52cfdce3ca0050698d6a8}


Get HW MAC address

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em address}]address to set \end{description}
\end{Desc}
\hypertarget{rf__ntrx_8h_9c0a6b3166fee2e94c93fffcc7311ed4}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_power_set@{rf\_\-power\_\-set}}
\index{rf_power_set@{rf\_\-power\_\-set}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-power\_\-set]{\setlength{\rightskip}{0pt plus 5cm}int8\_\-t rf\_\-power\_\-set (uint8\_\-t {\em new\_\-power})}}
\label{rf__ntrx_8h_9c0a6b3166fee2e94c93fffcc7311ed4}


Select RF transmit power.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em new\_\-power}]new power level (in per cent)\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]new level or negative (value out of range) \end{Desc}
\hypertarget{rf__ntrx_8h_d82d143983e9998c415860e3b5fe47a1}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_rx_disable@{rf\_\-rx\_\-disable}}
\index{rf_rx_disable@{rf\_\-rx\_\-disable}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-rx\_\-disable]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-rx\_\-disable (void)}}
\label{rf__ntrx_8h_d82d143983e9998c415860e3b5fe47a1}


Disable RF receiver.

\begin{Desc}
\item[Returns:]pd\-TRUE 

pd\-FALSE bus not free \end{Desc}
\hypertarget{rf__ntrx_8h_fd6db435d4b4e09d32c69a9d4d8334a8}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_rx_enable@{rf\_\-rx\_\-enable}}
\index{rf_rx_enable@{rf\_\-rx\_\-enable}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-rx\_\-enable]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-rx\_\-enable (void)}}
\label{rf__ntrx_8h_fd6db435d4b4e09d32c69a9d4d8334a8}


Enable RF receiver.

\begin{Desc}
\item[Returns:]pd\-TRUE 

pd\-FALSE bus not free \end{Desc}
\hypertarget{rf__ntrx_8h_91b1dad538e14708668fae49263edccb}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_send_ack@{rf\_\-send\_\-ack}}
\index{rf_send_ack@{rf\_\-send\_\-ack}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-send\_\-ack]{\setlength{\rightskip}{0pt plus 5cm}void rf\_\-send\_\-ack (uint8\_\-t {\em pending})}}
\label{rf__ntrx_8h_91b1dad538e14708668fae49263edccb}


Send ACK.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pending}]set up pending flag if pending $>$ 0. \end{description}
\end{Desc}
\hypertarget{rf__ntrx_8h_262377dd5ce71a6ded4a7e4f86a2df1a}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_set_address@{rf\_\-set\_\-address}}
\index{rf_set_address@{rf\_\-set\_\-address}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-set\_\-address]{\setlength{\rightskip}{0pt plus 5cm}void rf\_\-set\_\-address (\hyperlink{structsockaddr__t}{sockaddr\_\-t} $\ast$ {\em address})}}
\label{rf__ntrx_8h_262377dd5ce71a6ded4a7e4f86a2df1a}


Set address decoder parameters

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em address}]address for decoder \end{description}
\end{Desc}
\hypertarget{rf__ntrx_8h_dcdd963f53baa6a6c1e696347cee1ee7}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_write@{rf\_\-write}}
\index{rf_write@{rf\_\-write}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-write]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-write (\hyperlink{structbuffer__t}{buffer\_\-t} $\ast$ {\em buffer})}}
\label{rf__ntrx_8h_dcdd963f53baa6a6c1e696347cee1ee7}


Transmit packet.

Missing feature: address type check

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em mac}]RF HW address \item[{\em dst}]destination HW address \item[{\em buffer}]data buffer pointer \item[{\em length}]length of data\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]pd\-TRUE+1 channel occupied 

pd\-TRUE 

pd\-FALSE bus reserved \end{Desc}
\hypertarget{rf__ntrx_8h_a1f89bc90eab54291f913208b1ddef72}{
\index{rf_ntrx.h@{rf\_\-ntrx.h}!rf_write_no_cca@{rf\_\-write\_\-no\_\-cca}}
\index{rf_write_no_cca@{rf\_\-write\_\-no\_\-cca}!rf_ntrx.h@{rf\_\-ntrx.h}}
\subsubsection[rf\_\-write\_\-no\_\-cca]{\setlength{\rightskip}{0pt plus 5cm}port\-CHAR rf\_\-write\_\-no\_\-cca (\hyperlink{structbuffer__t}{buffer\_\-t} $\ast$ {\em buffer})}}
\label{rf__ntrx_8h_a1f89bc90eab54291f913208b1ddef72}


Transmit packet without channel check.

Missing feature: address type check

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em mac}]RF HW address \item[{\em dst}]destination HW address \item[{\em buffer}]data buffer pointer \item[{\em length}]length of data\end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]pd\-TRUE 

pd\-FALSE bus reserved \end{Desc}
